# DeepSomatic

Classify somatic/germline mutations by deep neural networks

### Installation

1. Download and install [julia v0.5](https://julialang.org/downloads/)
2. Install Keras with TensorFlow by their [guide](https://keras.io/#installation)
3. Install HDF5, StatsBase, PyCall and Libz in Julia

### predict

```
$ julia predict.jl predict ../model/model2.h5 input.bam input.txt > output.txt
```

By default it accept the `txt` file generated by AnnoVar.

### train new models

First, run `julia collect_data.jl cfDNA.bam gDNA.mpileup out.image out.txt` for each sample to get a list of`.image` and 
`.txt` files, then call `julia data_stat.jl clean` to filter them, the result will be put on `clean` folder. After that, 
you can run `julia ../model1.jl` on the `clean` folder to train the corresponding model.
